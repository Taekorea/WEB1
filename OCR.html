<!DOCTYPE html>
<html>
<head>
    <title>스마트폰 카메라 OCR</title>
</head>
<body>
    <h1>스마트폰 카메라 OCR</h1>
    <input type="file" accept="image/*" capture="camera" id="cameraInput" style="display: none;">
    <button id="captureButton">카메라로 촬영</button>
    <div id="result">여기에 추출된 텍스트가 표시됩니다.</div>

    <!-- Tesseract.js 스크립트를 불러옵니다. -->
    <script src="https://tesseract.projectnaptha.com/tesseract.js"></script>
    <script>
        // OCR 버튼 클릭 시 실행되는 함수
        document.getElementById('captureButton').addEventListener('click', function() {
            // 카메라 입력 파일 엘리먼트를 클릭하여 카메라를 열도록 합니다.
            document.getElementById('cameraInput').click();
        });

        // 카메라 입력 파일 엘리먼트가 변경되었을 때 실행되는 함수
        document.getElementById('cameraInput').addEventListener('change', function(e) {
            // 파일을 읽어옵니다.
            var file = e.target.files[0];
            if (file) {
                var reader = new FileReader();
                reader.onload = function(event) {
                    // 이미지를 Tesseract.js로 처리합니다.
                    Tesseract.recognize(
                        event.target.result,
                        'eng', // 언어 설정 (영어)
                        {
                            logger: info => console.log(info) // OCR 진행 상황을 콘솔에 출력합니다.
                        }
                    ).then(({ data: { text } }) => {
                        // OCR 결과를 웹 페이지에 표시합니다.
                        document.getElementById('result').textContent = text;
                    });
                };
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>
